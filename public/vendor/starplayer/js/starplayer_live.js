var isAtLeastIE11=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/));var isIE11=!!(navigator.userAgent.match(/Trident/)&&navigator.userAgent.match(/rv 11/));var uagent=navigator.userAgent.toLocaleLowerCase();var isChrome=window.chrome&&!navigator.userAgent.match(/Opera|OPR\//);var isEdge=navigator.appVersion.indexOf("Edge/")!=-1?true:false;var isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;var isOpera=navigator.userAgent.toLowerCase().indexOf("opr/")!=-1?true:false;var _controllerParams;var _controllerParams2;if(x64()){STARPLAYER_URL=STARPLAYER64_URL;STARPLAYER_SETUP_URL=STARPLAYER64_SETUP_URL;STARPLAYER_VERSION=STARPLAYER64_VERSION}else{if(isMac()){STARPLAYER_AGENT_SETUP_URL=STARPLAYER_OSX_SETUP_URL;STARPLAYER_AGENT_VERSION=STARPLAYER_OSX_VERSION}}function StarPlayerString(){}StarPlayerString.INSTALL_ACTIVEX="<p>스타플레이어를 구동하려면 'StarPlayer' ActiveX 컨트롤을 설치하여 주십시오.</p><p>설치에 문제가 있으면 <a style='color:#ff0000' href='"+STARPLAYER_SETUP_URL+"'>설치 프로그램을 다운로드</a>한 후 설치하여 주십시오.</p>";StarPlayerString.INSTALL_AGENT="<p>스타플레이어를 구동하려면 <a style='color:#ff0000' href='"+STARPLAYER_AGENT_SETUP_URL+"'>설치 프로그램을 다운로드</a>한 후 설치하여 주십시오.</p>";StarPlayerString.MEDIA_ERR_ABORTED="비디오 재생을 중단하였습니다.";StarPlayerString.MEDIA_ERR_NETWORK="네트워크 오류가 발생하였습니다.";StarPlayerString.MEDIA_ERR_DECODE="비디오 파일이 잘못되었거나 지원하지 않는 형식입니다.";StarPlayerString.MEDIA_ERR_SRC_NOT_SUPPORTED="비디오를 재생할 수 없습니다. 서비스 장애가 발생하였거나 지원하지 않는 형식입니다.";StarPlayerString.UNKNOWN="알 수 없는 오류가 발생하였습니다.";StarPlayerString.MULTIPLECONNECTION="동일 아이디 동시 접속으로 동영상 재생이 차단되었습니다.";StarPlayerString.BLOCKED_UID="불법적 시도로 인해 아이디가 차단되었습니다.";StarPlayerString.BLOCKED_PID="불법적 시도로 인해 시스템이 차단되었습니다.";StarPlayerString.BLOCKED_IP="불법적 시도로 인해 아이피가 차단되었습니다.";StarPlayerString.VMACHINE="가상머신에서는 재생할 수 없습니다.";StarPlayerString.RDESKTOP="원격 데스크탑에서는 재생할 수 없습니다.";StarPlayerString.MSG_DETECT_HARDWARE="지원하지 않는 하드웨어 장비가 발견되었습니다.";StarPlayerString.MSG_DETECT_PROCESS_HIDDER="불법적인 시도가 감지되었습니다. 재생을 중단합니다.";StarPlayerString.MSG_DETECT_CHROME_EXTENSION="녹화기능이 있는 크롬 확장 프로그램이 감지되었습니다.";function OpenState(){}OpenState.CLOSED=0;OpenState.OPENING=1;OpenState.OPENED=2;OpenState.CLOSING=3;function PlayState(){}PlayState.STOPPED=0;PlayState.PLAYING=1;PlayState.PAUSED=2;PlayState.BUFFERING_STARTED=3;PlayState.BUFFERING_STOPPED=4;PlayState.COMPLETE=5;function StarPlayerError(){}StarPlayerError.OPEN_FAILURE=1000;StarPlayerError.INVALID_MEDIA_TYPE=1001;StarPlayerError.DISK_FULL=1002;StarPlayerError.FILTER_NOT_INSTALLED=1003;StarPlayerError.FILTER_NOT_CONNECTED=1004;StarPlayerError.FILE_NOT_FOUND=1005;StarPlayerError.UNKNOWN=1006;StarPlayerError.MULTIPLE_CONNECTIONS=1007;StarPlayerError.BLOCKED_UID=1008;StarPlayerError.BLOCKED_IP=1009;StarPlayerError.BLOCKED_PID=1010;function WatermarkAlign(){}WatermarkAlign.LEFT=0;WatermarkAlign.RIGHT=2;WatermarkAlign.CENTER=1;WatermarkAlign.TOP=0;WatermarkAlign.BOTTOM=2;WatermarkAlign.RANDOM=3;function WatermarkText(){}WatermarkText.HARDWARE="_STARPLAYER_SSN_";function SubTitle(){}SubTitle.NONE=0;SubTitle.KOR=1;SubTitle.ENG=2;SubTitle.JAP=4;SubTitle.CHI=8;function ControllerMode(){}ControllerMode.DEFAULT=0;ControllerMode.EMBEDED=1;function LogoAlign(){}LogoAlign.TOP=0;LogoAlign.BOTTOM=1;LogoAlign.LEFT=0;LogoAlign.RIGHT=1;function isIE(){if(uagent.indexOf("trident")!=-1){return true}return navigator.appName=="Microsoft Internet Explorer"}function x64(){if(typeof window.navigator.cpuClass!="undefined"){return window.navigator.platform.toLowerCase()=="win64"&&window.navigator.cpuClass.toLowerCase()=="x64"}return window.navigator.platform.toLowerCase()=="win64"}function isMac(){if(navigator.platform=="MacIntel"){return true}return false}function attachIE11Event(g,e,f){var a=/^function\s?([^\s(]*)/;var d=/\(\)|\([a-zA-Z1-9,\_\-\s]+\)/;var h=f.toString().match(d)[0];var c;try{c=document.createElement("script");c.setAttribute("for",g.id);c.event=e+h;c.appendChild(document.createTextNode("player."+e+h+";"));if(document.body){document.body.appendChild(c)}}catch(b){}}var vod_protocal="http";var http_host="127.0.0.1";var http_port="3450";var ws_protocol="ws";var ws_host="127.0.0.1";var ws_port="3451";var ws_separator="starplayer";if(window.location.protocol=="https:"){ws_protocol="wss";ws_host="localhost.axissoft.co.kr";ws_port="3453";vod_protocal="https";http_host="localhost.axissoft.co.kr";http_port="3454";if(isFirefox){var iframe_id="_ssl_iframe_";var iframe=document.getElementById(iframe_id);if(!iframe){iframe=document.createElement("iframe");iframe.id="_ssl_iframe_";iframe.style.display="none";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(iframe,s)}iframe.src="https://www.comodossl.co.kr/Images/main/comodo_logo.gif"}}function StarPlayerHtml5(ai,W,ab){var n=this;var ae=false;var U=false;var I=OpenState.CLOSED;var v=PlayState.STOPPED;var a=-1;var ao=-1;var j;var x;var N;var c;var Z;var an;var g=60;var m;var K;var b;var ad;var Y=Q(W.videoContainer);var q=Q(W.controllerContainerHtml5);var H=Y.parentElement;var C=Q("watermark");var al=Q("subtitle");var V=Q("logo");var f=null;var aj=new Date();var B=aj.getFullYear()+"/"+(aj.getMonth()+1)+"/"+aj.getDate()+" "+aj.getHours()+":"+aj.getMinutes()+":"+aj.getSeconds();var w=0;var p=60;var F=new StarPlayerChromeExtension(this);if(typeof W.subtitlePlacement=="undefined"){W.subtitlePlacement=90}function Q(d){return document.getElementById(d)}function y(ap){n._connect_callback=ap;var d='{"scms" : "connection"}';n.websocket.send(d)}function u(ap){n._opened_callback=ap;var d='{"scms" : "opened"}';n.websocket.send(d)}function P(ap){n._keepalive_callback=ap;var d='{"scms" : "keepalive"}';n.websocket.send(d)}function E(ap){n._ssn_callback=ap;var d='{"ssn" : ""}';n.websocket.send(d)}function ac(d){if(typeof n.custom_log_url!="undefined"){var d='{"history" : "'+d+'"}';n.websocket.send(d)}}function L(d){var ap='{"emergency" : '+d+"}";n.websocket.send(ap)}function e(d){if(typeof n.custom_log_url!="undefined"){var d='{"disconnected" : "'+d+'"}';n.websocket.send(d)}}this.send_log=function(aq,au){var d=unescape(encodeURIComponent(encodeURIComponent(aq)));var at=unescape(encodeURIComponent(encodeURIComponent(au)));var ap='{"module" : "'+d+'","reason" : "'+at+'","status" : "0"}';n.websocket.send(ap);var ar='{"scms" : "capturelog"}';n.websocket.send(ar)};this.installed_chrome_extension=function(aq,ap){n._chrome_extension_callback=ap;var d='{"chrome_extension" : "'+aq+'"}';n.websocket.send(d)};if(typeof W.controllerParams!="undefined"){_controllerParams=W.controllerParams;_controllerParams2= _controllerParams.replace(/>/gi,'":').replace(/</gi,',"').replace(",","");_controllerParams2="{"+_controllerParams2+"}";_controllerParams=JSON.parse(_controllerParams2)}this.getShowRate=function(){if(_controllerParams!=null&&typeof _controllerParams.show_rate!="undefined"){return _controllerParams.show_rate}return true};this.getLimitRange=function(){if(_controllerParams!=null&&typeof _controllerParams.limit_range!="undefined"){return _controllerParams.limit_range}return false};this.getEnableControl=function(){if(_controllerParams!=null&&typeof _controllerParams.enable_control!="undefined"){return _controllerParams.enable_control}return true};this.displayError=function(ap){if(n._on_error){for(var d in n._on_error){n._on_error[d](ap)}}};function O(){return"'"+W.userId+"' "+StarPlayerString.MULTIPLECONNECTION}this.set_media=function(ar,ap,d){ab.custom_log_url=ap;ab.custom_log_extra=d;var d=unescape(encodeURIComponent(encodeURIComponent(d)));var aq='{"url" : "'+ar+'","custom_log_url" : "'+ap+'","custom_log_extra" : "'+d+'"}';n.websocket.send(aq)};this.url=function(){return j};this.sessionid=function(){return x};this.open_media=function(d,ap){M();j=d;y(function(ar,av,au){var aq=d.indexOf(".m3u8");if(ar!=""&&ar!="Connected"){if(av!==""){n.displayError(av);return}if(ar=="MultipleConnections"){n.displayError(O())}else{if(ar=="BlockedUID"){n.displayError(StarPlayerString.BLOCKED_UID)}else{if(ar=="BlockedIP"){n.displayError(StarPlayerString.BLOCKED_IP)}else{if(ar=="BlockedPID"){n.displayError(StarPlayerString.BLOCKED_PID)}else{if(ar=="VMACHINE"){n.displayError(StarPlayerString.VMACHINE)}else{if(ar=="RDESKTOP"){n.displayError(StarPlayerString.RDESKTOP)}}}}}}return}x=au;if(ai){if(aq!="-1"){playM3u8(d);ai.load()}else{ai.controls=true;var at="?";if(j.indexOf("?")!=-1){at="&"}ai.src=vod_protocal+"://"+http_host+":"+http_port+"/"+j+at+"sid="+x;ai.load()}if(ab.autoPlay!=false){ai.play()}ai.controls=false}w=0})};this.close_media=function(){n.close()};this.close=function(){U=true;ai.src="http://null/";ai.load()};this.play=function(){if(I!=OpenState.OPENED&&I!=OpenState.OPENING){return}ai.play();ae=false};this.pause=function(){if(I!=OpenState.OPENED){return}ai.pause()};this.stop=function(){if(I!=OpenState.OPENED){return}ae=true;ai.pause();var d=v;R(PlayState.STOPPED);if(d!=PlayState.COMPLETE){ai.currentTime=0}};this.addEvent=function(d,ap){n.attachEvent(d,ap)};this.attachEvent=function(d,ap){var aq="_on_"+d;if(!n[aq]){n[aq]=[]}n[aq].push(ap)};this.setOpenState=function(d){I=d};this.getOpenState=function(){return I};this.getPlayState=function(){return v};this.getDuration=function(){if(typeof ab.previewTime!="undefined"){if(ab.previewTime<ai.duration){return ab.previewTime}}if(ai){return ai.duration}return 0};this.getCurrentPosition=function(){if(ai){return parseFloat(ai.currentTime)}return 0};this.setCurrentPosition=function(aq){var ap=ai.currentTime;if(a>=0||ao>=0){if(a>aq||ao<aq){aq=a}}ai.currentTime=aq;if(n._on_open_state_change){for(var d in n._on_position_change){n._on_position_change[d](aq)}}if(n._on_position_change2){for(var d in n._on_position_change2){n._on_position_change2[d](aq,ap)}}};this.getRate=function(){return ai.playbackRate};this.setRate=function(d){ai.playbackRate=d;ai.defaultPlaybackRate=d};this.getVolume=function(){return ai.volume};this.setVolume=function(d){if(d<0){d=0}else{if(d>1){d=1}}ai.muted=false;ai.volume=d};this.getMute=function(){return ai.muted};this.setMute=function(ap){if(I!=OpenState.OPENED){return}ai.muted=ap;if(n._on_volume_change){for(var d in n._on_volume_change){n._on_volume_change[d](ai.volume,ai.muted)}}};this.getFullscreen=function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement){return true}return false};this.setFullscreen=function(d){if(d){if(H.requestFullscreen){H.requestFullscreen()}else{if(H.mozRequestFullScreen){H.mozRequestFullScreen()}else{if(H.webkitRequestFullscreen){H.webkitRequestFullscreen()}else{if(H.msRequestFullscreen){H.msRequestFullscreen()}}}}}else{if(document.exitFullscreen){document.exitFullscreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}}}}}};var X;var J;var S;var ah;var k;var o;var aa;var G;var T;var A=null;function D(){q.style.visibility="visible";document.body.style.cursor="default";clearTimeout(A);A=setTimeout(function(){q.style.visibility="hidden";document.body.style.cursor="none"},3000)}function ak(){q.style.visibility="visible";document.body.style.cursor="default";clearTimeout(A)}function t(){var d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;q.style.top=d-parseInt(q.style.height,10)+"px"}function l(){var av=n.getFullscreen();if(av){X=H.style.width;J=H.style.height;S=Y.style.width;ah=Y.style.height;aa=q.style.position;G=q.style.top;T=q.style.left;k=q.style.width;o=q.style.height;H.style.width="100%";H.style.height="100%";Y.style.width="100%";Y.style.height="100%";Y.addEventListener("mousemove",D,false);q.style.position="absolute";q.style.left="0px";var au=screen.height;q.style.top=au-parseInt(q.style.height,10)+"px";q.style.width="100%";q.classList.add("fullscreen_controller");q.addEventListener("mousemove",ak,false);window.addEventListener("resize",t,false);ag();C.style.width=H.style.width;z(au);al.style.width=H.style.width;al.style.top=parseInt(au*(W.subtitlePlacement/100)-30,10)+"px";var ar=V.naturalWidth;var aq=V.naturalHeight;var d=0;if(W.logoHorzAlign==LogoAlign.RIGHT){var ap=screen.width;d=ap-ar}var aw=0;if(W.logoVertAlign==LogoAlign.BOTTOM){aw=au-aq}V.style.left=d+"px";V.style.top=aw+"px"}else{clearTimeout(A);q.style.visibility="visible";document.body.style.cursor="default";Y.removeEventListener("mousemove",D);H.style.width=X;H.style.height=J;Y.style.width=S;Y.style.height=ah;q.style.position=aa;q.style.top=G;q.style.left=T;q.style.width=k;q.classList.remove("fullscreen_controller");q.removeEventListener("mousemove",ak);window.removeEventListener("resize",t);ag();C.style.width=H.style.width;var au=parseInt(Y.style.height,10);z(au);al.style.width=H.style.width;al.style.top=parseInt(au*(W.subtitlePlacement/100)-30,10)+"px";var ar=V.naturalWidth;var aq=V.naturalHeight;var d=0;if(W.logoHorzAlign==LogoAlign.RIGHT){var ap=parseInt(H.style.width,10);d=ap-ar}var aw=0;if(W.logoVertAlign==LogoAlign.BOTTOM){aw=au-aq}V.style.left=d+"px";V.style.top=aw+"px"}if(n._on_fullscreen_change){for(var at in n._on_fullscreen_change){n._on_fullscreen_change[at](av)}}}document.addEventListener("fullscreenchange",l,false);document.addEventListener("webkitfullscreenchange",l,false);document.addEventListener("mozfullscreenchange",l,false);document.addEventListener("MSFullscreenChange",l,false);this.getRepeat=function(){return n.getRepeatStartTime()>=0&&n.getRepeatEndTime()>=0};this.setRepeat=function(ap){if(ap){n.setRepeatStartTime(0);n.setRepeatEndTime(ai.duration)}else{n.resetRepeatStartTime();n.resetRepeatEndTime()}if(n._on_repeat_change){for(var d in n._on_repeat_change){n._on_repeat_change[d](ap)}}};this.getRepeatStartTime=function(){if(a<0&&ao>=0){return 0}else{return a}};this.setRepeatStartTime=function(d){if(I!=OpenState.OPENED){return}if(a==d){return}a=d;if(a>=0&&a>n.getRepeatEndTime()){a=n.getRepeatEndTime()}if(a>n.getCurrentPosition()){n.setCurrentPosition(a)}if(n._on_repeat_range_change){for(var ap in n._on_repeat_range_change){n._on_repeat_range_change[ap](a,n.getRepeatEndTime())}}};this.resetRepeatStartTime=function(){n.setRepeatStartTime(-1)};this.getRepeatEndTime=function(){if(ao<0&&a>=0){return ai.duration}else{return ao}};this.setRepeatEndTime=function(d){if(I!=OpenState.OPENED){return}if(ao==d){return}ao=d;if(n._on_repeat_range_change){for(var ap in n._on_repeat_range_change){n._on_repeat_range_change[ap](n.getRepeatStartTime(),ao)}}};this.resetRepeatEndTime=function(){n.setRepeatEndTime(-1)};this.getVisible=function(){ai.style.visibility!="hidden"};this.setVisible=function(d){if(ai){ai.style.visibility=d?"visible":"hidden"}};this.command=function(d,ap){};this.getPlayTime=function(){if(f){return f.getPlayedTime()}return 0};function h(){var au=new Date();var aq=au.getFullYear()+"/"+(au.getMonth()+1)+"/"+au.getDate()+" "+au.getHours()+":"+au.getMinutes()+":"+au.getSeconds();var ar=unescape(encodeURIComponent(encodeURIComponent(W.userId)));var ap=unescape(encodeURIComponent(encodeURIComponent(n.custom_log_extra)));var at="user_id="+ar+"&player_id="+n.getPID()+"&content_duration="+parseInt(n.getDuration(),10)+"&current_position="+parseInt(n.getCurrentPosition(),10)+"&played_time="+f.getPlayedTime()+"&strong_played_time="+f.getStrongPlayedTime()+"&tracker_time="+f.getTrackerTime()+"&tracker_data="+f.getTracker()+"&content_url="+n.url()+"&extra_data="+ap+"&begin_localtime="+encodeURIComponent(B)+"&end_localtime="+encodeURIComponent(aq);return at}function r(ar){I=ar;if(ar==OpenState.OPENING){if(n._on_volume_change){for(var d in n._on_volume_change){n._on_volume_change[d](ai.volume,ai.muted)}}}else{if(ar==OpenState.OPENED){E(function(at){n.ssn=at});u(function(at){if(at=="UnknownError"){displayError(StarPlayerString.UNKNOWN);n.close()}N=setInterval(function(){P(function(au){if(au=="MultipleConnections"){n.close();displayError(O())}else{if(au=="DetectHardware"){n.close();displayError(StarPlayerString.MSG_DETECT_HARDWARE)}else{if(au=="CanNotTerminated"){n.close();displayError(StarPlayerString.MSG_DETECT_PROCESS_HIDDER)}}}})},1000*n.keepalive_interval);f=new StarPlayerTracker(n);if(typeof n.custom_log_url!="undefined"){c=setInterval(function(){if(n.custom_log_url!==""){var au=h();ac(Base64.encode(au))}},1000)}Z=setInterval(function(){L(v)},5000);if(typeof n.timelimit!="undefined"){setInterval(function(){var au=n.getCurrentPosition();if(au>=n.timelimit){n.stop();R(PlayState.COMPLETE)}},500)}});if(typeof ab.cc!="undefined"&&ab.cc!=""){al.style.display="block";al.style.textAlign="center";al.style.width=H.style.width;var ap=parseInt(Y.style.height,10);al.style.top=parseInt(ap*(W.subtitlePlacement/100)-30,10)+"px"}if(typeof W.logoUrl!="undefined"&&W.logoUrl!=""){V.src=W.logoUrl;V.onload=function(){V.style.display="block";var aw=V.naturalWidth;var av=V.naturalHeight;V.style.width=aw+"px";V.style.height=av+"px";var at=0;if(W.logoHorzAlign==LogoAlign.RIGHT){var au=parseInt(H.style.width,10);at=au-aw}var ay=0;if(W.logoVertAlign==LogoAlign.BOTTOM){var ax=parseInt(Y.style.height,10);ay=ax-av}V.style.left=at+"px";V.style.top=ay+"px"}}F.run()}else{if(ar==OpenState.CLOSED){var aq="";if(typeof n.custom_log_url!="undefined"&&n.custom_log_url!==""&&f!=null){aq=h()}e(Base64.encode(aq));N=clearInterval(N);if(f){clearInterval(c);f=null}clearInterval(Z)}}}if(n._on_open_state_change){for(var d in n._on_open_state_change){n._on_open_state_change[d](I)}}F.release()}var af=null;var am=null;function z(d){if(W.watermarkText==null||W.watermarkText=="undefined"){return}if(typeof W.watermarkInterval=="undefined"){W.watermarkInterval=5}C.style.width=H.style.width;if(af){clearInterval(af)}if(am){clearTimeout(am)}if(W.watermarkHorzAlign==WatermarkAlign.RANDOM||W.watermarkVertAlign==WatermarkAlign.RANDOM){af=setInterval(function(){C.innerHTML=W.watermarkText;C.style.display="block";if(W.watermarkHorzAlign==WatermarkAlign.RANDOM){var aq="initial";switch(Math.floor(Math.random()*10000)%3){case 0:aq="left";break;case 1:aq="center";break;case 2:aq="right";break}C.style.textAlign=aq}else{if(W.watermarkHorzAlign==WatermarkAlign.LEFT){C.style.textAlign="left"}else{if(W.watermarkHorzAlign==WatermarkAlign.CENTER){C.style.textAlign="center"}else{if(W.watermarkHorzAlign==WatermarkAlign.RIGHT){C.style.textAlign="right"}}}}if(W.watermarkVertAlign==WatermarkAlign.RANDOM){var ap;switch(Math.floor(Math.random()*10000)%3){case 0:ap=0;break;case 1:ap=d/2-20;break;case 2:ap=d-40;break}C.style.top=ap+"px"}else{if(W.watermarkVertAlign==WatermarkAlign.TOP){C.style.top="0px"}else{if(W.watermarkVertAlign==WatermarkAlign.CENTER){C.style.top=(d/2-20)+"px"}else{if(W.watermarkVertAlign==WatermarkAlign.BOTTOM){C.style.top=(d-40)+"px"}}}}am=setTimeout(function(){C.style.display="none"},W.watermarkShowInterval*1000)},W.watermarkInterval*1000)}else{C.innerHTML=W.watermarkText;C.style.display="block";if(W.watermarkHorzAlign==WatermarkAlign.LEFT){C.style.textAlign="left"}else{if(W.watermarkHorzAlign==WatermarkAlign.CENTER){C.style.textAlign="center"}else{if(W.watermarkHorzAlign==WatermarkAlign.RIGHT){C.style.textAlign="right"}}}if(W.watermarkVertAlign==WatermarkAlign.TOP){C.style.top="0px"}else{if(W.watermarkVertAlign==WatermarkAlign.CENTER){C.style.top=(d/2-20)+"px"}else{if(W.watermarkVertAlign==WatermarkAlign.BOTTOM){C.style.top=(d-40)+"px"}}}}}function ag(){clearInterval(af);clearTimeout(am);af=null;am=null;if(C){C.innerHTML=""}}function R(ar){v=ar;if(n._on_play_state_change){for(var d in n._on_play_state_change){n._on_play_state_change[d](v)}}if(ar==PlayState.PLAYING){var ap=parseInt(Y.style.height,10);z(ap);clearInterval(an)}else{if(ar==PlayState.PAUSED){ag()}else{if(ar==PlayState.STOPPED){if(!n.getRepeat()){ag();if(ai){if(ai.currentTime>0){w=ai.currentTime}}var aq="";if(typeof n.custom_log_url!="undefined"&&n.custom_log_url!==""&&f!=null){aq=h()}e(Base64.encode(aq))}}else{if(ar==PlayState.COMPLETE){if(a>=0||ao>=0){if(parseInt(n.getRepeatEndTime(),10)==parseInt(ai.duration,10)){setTimeout(function(){n.play();n.setCurrentPosition(n.getRepeatStartTime())},10)}}}}}}}function M(){U=false;R(PlayState.STOPPED);r(OpenState.CLOSED);n.resetRepeatStartTime();n.resetRepeatEndTime();if(n.onMuteChanged){for(var d in n.onMuteChanged){n.onMuteChanged[d](ai.muted)}}}this.setTimelimit=function(d){n.timelimit=d};this.getPID=function(){return n.player_id};this.getMAC=function(){return n.mac_address};this.getSSN=function(){return n.ssn};this.getTrack=function(){if(f){return f.getTracker()}return""};this.setTrack=function(d){if(f){f.setHistory(d)}};this.getProgressRate=function(){if(f){return f.getPercent()}return 0};this.getStopPosition=function(){return w};this.getSubtitle=function(){return n.subtitle};this.setSubtitle=function(d){n.subtitle=d;if(d==SubTitle.NONE){al.style.display="none"}else{al.style.display="block"}};this.setLogUrl=function(d){n.custom_log_url=d};this.setLogExtraData=function(d){n.custom_log_extra=d};if(ai){ai.addEventListener("loadstart",function(){if(U){M()}else{r(OpenState.OPENING)}},false);ai.addEventListener("loadeddata",function(){r(OpenState.OPENED)},false);ai.addEventListener("durationchange",function(){},false);ai.addEventListener("suspend",function(){},false);ai.addEventListener("playing",function(){ai.controls=false;R(PlayState.PLAYING)},false);ai.addEventListener("pause",function(){if(ae){ae=false;R(PlayState.STOPPED);n.resetRepeatStartTime();n.resetRepeatEndTime()}else{R(PlayState.PAUSED)}},false);ai.addEventListener("ended",function(){R(PlayState.COMPLETE);n.stop()},false);ai.addEventListener("waiting",function(){ai.controls=false;if(n.onBufferingData){n.onBufferingData(true)}var d=parseInt(ai.currentTime,10);R(PlayState.BUFFERING_STARTED);an=setInterval(function(){if(v==PlayState.BUFFERING_STARTED&&d!=parseInt(ai.currentTime,10)){R(PlayState.PLAYING)}},1000)},false);ai.addEventListener("error",function(){if(ai.src=="http://null/"){return}var d;switch(ai.error.code){case 1:d=StarPlayerString.MEDIA_ERR_ABORTED;break;case 2:d=StarPlayerString.MEDIA_ERR_NETWORK;break;case 3:d=StarPlayerString.MEDIA_ERR_DECODE;break;case 4:d=StarPlayerString.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:d=StarPlayerString.UNKNOWN;break}M();n.displayError(d)},false);ai.addEventListener("ratechange",function(){if(n._on_rate_change){for(var d in n._on_rate_change){n._on_rate_change[d](ai.playbackRate)}}},false);ai.addEventListener("volumechange",function(){if(n._on_volume_change){for(var d in n._on_volume_change){n._on_volume_change[d](ai.volume,ai.muted)}}},false);ai.addEventListener("timeupdate",function(){if(a>=0||ao>=0){if(ai.currentTime>=n.getRepeatEndTime()){time=n.getRepeatStartTime();n.setCurrentPosition(time)}}if(n._on_update_time){for(var d in n._on_update_time){n._on_update_time[d](ai.currentTime)}}},false);ai.oncontextmenu=function(){return false}}}function StarPlayer_API(a){var b=false;var d=-1;var c=-1;this.url=function(){return a.url};this.closeBrowser=function(){a.close_browser()};this.open_media=function(e,f){a.open_media(e,f)};this.close_media=function(){a.close()};this.getDuration=function(){return a.duration};this.getCurrentPosition=function(){return a.current_position};this.setCurrentPosition=function(e){a.current_position=e};this.getVolume=function(){return a.volume};this.getShowRate=function(){return _controllerParams.show_rate};this.getLimitRange=function(){return _controllerParams.limit_range};this.getEnableControl=function(){return _controllerParams.enable_control};this.setVolume=function(e){a.volume=e};this.getMute=function(){return a.mute};this.setMute=function(e){a.mute=e};this.getFullscreen=function(){return a.fullscreen};this.setFullscreen=function(e){a.fullscreen=e};this.getRate=function(){return a.rate};this.setRate=function(e){a.rate=e};this.getRepeat=function(){return a.repeat};this.setRepeat=function(e){a.repeat=e};this.getRepeatStartTime=function(){return a.repeat_start_time};this.setRepeatStartTime=function(e){a.repeat_start_time=e};this.getRepeatEndTime=function(){return a.repeat_end_time};this.setRepeatEndTime=function(e){a.repeat_end_time=e};this.getPlayTime=function(){return a.play_time};this.initPlayTime=function(){a.init_play_time()};this.play=function(){a.play()};this.pause=function(){a.pause()};this.stop=function(){a.stop()};this.addEvent=function(e,f){if(a.attachEvent){a.attachEvent(e,f)}else{attachIE11Event(a,e,f)}};this.setOpenState=function(e){d=e};this.getOpenState=function(){return d};this.setPlayState=function(e){c=e};this.getPlayState=function(){return c};this.getTopmost=function(){return a.topmost};this.setTopmost=function(e){a.topmost=e};this.getXHR=function(){return a.xml_http_request};this.getVisible=function(){return b};this.setVisible=function(e){if(isIE()){if(e){a.style.position="relative";a.style.left="0px"}else{a.style.position="absolute";a.style.left="-9999999px"}}else{a.style.visibility=e?"visible":"hidden"}b=e};this.getVideoWidth=function(){return a.video_width};this.getVideoHeight=function(){return a.video_height};this.getBrightness=function(){return a.brightness};this.setBrightness=function(e){a.brightness=e};this.getContrast=function(){return a.contrast};this.setContrast=function(e){a.contrast=e};this.getSaturation=function(){return a.saturation};this.setSaturation=function(e){a.saturation=e};this.getHue=function(){return a.hue};this.setHue=function(e){a.hue=e};this.setCaption=function(e){a.set_caption(e)};this.clearCaption=function(){a.set_caption(undefined)};this.callFunction=function(e){return a.call_func(e)};this.captureFrame=function(e){return a.capture_frame(e)};this.control_alpha_brain=function(f,e){return a.control_alpha_brain(f,e)};this.getPID=function(){return a.pid};this.internetCheckConnection=function(e){return a.is_internet_connection(e)};this.setTimelimit=function(e){a.timelimit=e};this.getSSN=function(){return a.ssn};this.getMAC=function(){return a.mac_address};this.getTrack=function(){return a.track};this.setTrack=function(e){a.track=e};this.getProgressRate=function(){return a.progress_rate};this.getStopPosition=function(){return a.stop_position};this.getSubtitle=function(){return a.subtitle};this.setSubtitle=function(e){a.subtitle=e};this.getMaxBandwidth=function(){return a.max_bandwidth};this.getBandwidth=function(){return a.bandwidth};this.getBitrate=function(){return a.bitrate};this.getAvgFrameRate=function(){return a.avg_frame_rate};this.getTotalBytes=function(){return a.total_bytes};this.getReceivedBytes=function(){return a.received_bytes};this.setLogUrl=function(e){a.custom_log_url=e};this.setLogExtraData=function(e){a.custom_log_extra=e};this.set_media=function(g,f,e){a.custom_log_url=f;a.custom_log_extra=e};this.setThumbnailRootUrl=function(e){a.thumbnail_root_url=e}}function installStarPlayer(){var a="<object classid='CLSID:99277D5A-52B3-4B2E-AC38-B0065575FC55' width='0' height='0' codebase='"+STARPLAYER_URL+"#version="+STARPLAYER_VERSION+"' ></object>";document.body.innerHTML+=a}function StarPlayer(e,c,h){var q=this;var b=e.id?e.id:"__starplayer";var g=b+"_controller";var n;var d=10;var f=false;var m=false;var a=null;var o=x64()!=true?e.controllerUrl:e.controller64Url;_controllerParams=e.controllerParams;if(typeof _controllerParams!="undefined"){_controllerParams2=_controllerParams.replace(/>/gi,'":').replace(/</gi,',"').replace(",","");_controllerParams2="{"+_controllerParams2+"}";_controllerParams=JSON.parse(_controllerParams2)}function k(r){l(e.videoContainer).innerHTML="<table width='100%' height='100%' style='color:red;font-size:14px'><tr><td align='center' valign='middle'>"+r+"</td></tr></table>"}function l(r){return document.getElementById(r)}function p(){q.onInit=e.onInit;q.onOpenStateChange=e.onOpenStateChange;q.onPlayStateChange=e.onPlayStateChange;q.onKeyDown=e.onKeyDown;q.onKeyUp=e.onKeyUp;q.onClick=e.onClick;q.onMouseDown=e.onMouseDown;q.onMouseUp=e.onMouseUp;q.onMouseDbclick=e.onMouseDbclcik;q.onMouseWheel=e.onMouseWheel;q.onFullscreen=e.onFullscreen;q.onRateChange=e.onRateChange;q.onCustom=e.onCustom;q.onSubtitle=e.onSubtitle;if(!e.userId){e.userId="ANONYMOUS"}else{if(String(e.userId).replace(/ /g,"").length==0){e.userId="ANONYMOUS"}}if(!e.spkId){e.spkId=""}var w=1;if(e.armode!=undefined){w=e.armode}if(e.watermarkTextSize){var z=/.*%$/g;if(z.test(e.watermarkTextSize)){e.watermarkTextSize=e.watermarkTextSize.replace(/%$/g,"")}else{e.watermarkTextSize=-e.watermarkTextSize}}if(typeof c.autoPlay=="undefined"){c.autoPlay=true}function A(M,L){var J=STARPLAYER_VERSION.split(",");var I=M.split(L);function K(O){var N=parseInt(I[O]);var P=parseInt(J[O]);if(N>P){return 1}else{if(N==P){if(O==3){return 0}else{return K(O+1)}}else{return -1}}}return K(0)}function B(M,L){var J=STARPLAYER_AGENT_VERSION.split(",");var I=M.split(L);function K(O){var N=parseInt(I[O]);var P=parseInt(J[O]);if(N>P){return 1}else{if(N==P){if(O==3){return 0}else{return K(O+1)}}else{return -1}}}return K(0)}function F(){l(e.videoContainer).innerHTML="<table width='100%' height='100%' style='color:white;font-size:14px'><tr><td align='center' valign='middle'>"+StarPlayerString.INSTALL_ACTIVEX+"</td></tr></table>"}function H(){var J=ws_protocol+"://"+ws_host+":"+ws_port+"/"+ws_separator;var I=new WebSocket(J);I.onopen=function(K){var L='{"config" : "'+STARPLAYER_CONFIG_URL+'"}';I.send(L)};I.onmessage=function(K){var L=JSON.parse(K.data);if(typeof L.version!=="undefined"){if(B(L.version,".")==-1){setTimeout(function(){H()},1000)}else{setTimeout(function(){location.reload()},100)}}};I.onclose=function(K){setTimeout(function(){H()},500)};I.onerror=function(K){}}function C(){l(e.videoContainer).innerHTML="<table width='100%' height='100%' style='color:white;font-size:14px'><tr><td align='center' valign='middle'>"+StarPlayerString.INSTALL_AGENT+"</td></tr></table>";setTimeout(function(){H()},500)}function v(){n=new StarPlayer_API(window.external);j()}function y(I){var L=l(e.videoContainer).style.width;L=L!=""?L:"100%";var K=l(e.videoContainer).style.height;K=K!=""?K:"100%";var J="<object style='position:absolute;left:-9999999px;' id='"+b+"' classid='CLSID:99277D5A-52B3-4B2E-AC38-B0065575FC55' width='"+L+"' height='"+K+" codebase='"+STARPLAYER_URL+"#version="+STARPLAYER_VERSION+"' ><param name='config' value='"+STARPLAYER_CONFIG_URL+"' /><param name='controller' value='"+o+"' /><param name='user_id' value='"+e.userId+"' /><param name='spk_id' value='"+e.spkId+"' /><param name='time_limit' value='"+c.previewTime+"' /><param name='auto_play' value='"+c.autoPlay+"' /><param name='video_armode' value='"+w+"' /><param name='cpcode' value='"+e.cpcode+"' /><param name='controller_container_hwnd' value='"+I+"' /><param name='controller_params' value='"+e.controllerParams+"' /><param name='enable_block_messenger' value='"+e.blockMessenger+"' /><param name='enable_block_virtual_machine' value='"+e.blockVirtualMachine+"' /><param name='enable_dual_monitor' value='"+e.dualMonitor+"' /><param name='closed_caption_size' value='"+e.captionSize+"' /><param name='watermark_text' value='"+e.watermarkText+"' /><param name='watermark_text_color' value='"+e.watermarkTextColor+"' /><param name='watermark_text_size' value='"+e.watermarkTextSize+"' /><param name='watermark_horz_align' value='"+e.watermarkHorzAlign+"' /><param name='watermark_vert_align' value='"+e.watermarkVertAlign+"' /><param name='watermark_interval' value='"+e.watermarkInterval+"' /><param name='watermark_show_interval' value='"+e.watermarkShowInterval+"' /><param name='auto_progressive_download' value='"+e.auto_progressive_download+"' /><param name='marker' value='"+c.marker+"' /><param name='controller_mode' value='"+e.controllerMode+"' /><param name='custom_log_url' value='"+c.logUrl+"' /><param name='custom_log_extra' value='"+c.logExtraData+"' /><param name='logo_url' value='"+e.logoUrl+"' /><param name='logo_horz_align' value='"+e.logoHorzAlign+"' /><param name='logo_vert_align' value='"+e.logoVertAlign+"' /><param name='subtitle_placement' value='"+e.subtitlePlacement+"' /><param name='hash' value='"+e.hash+"' /></object>";l(e.videoContainer).innerHTML+=J;if(e.visible!=false){l(b).style.position="relative";l(b).style.left="0px"}if(isAtLeastIE11){if(l(b).object){n=new StarPlayer_API(l(b));l(b).init();j();setTimeout(E,10)}else{F()}}else{l(b).onreadystatechange=function(){if(this.object){n=new StarPlayer_API(l(b));l(b).init();j();setTimeout(E,10)}else{F()}};if(l(b).object){l(b).onreadystatechange()}}}function G(I){if(c.blockMessenger&&!e.blockMessenger){e.blockMessenger=c.blockMessenger}y(I)}function E(){if(q.onInit){q.onInit()}if(typeof c.previewTime!="undefined"){n.setTimelimit(c.previewTime)}if(c.intro){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.intro,null)}else{if(c.intro2){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.intro2,null)}else{if(c.url){n.setLogUrl(c.logUrl);n.setLogExtraData(c.logExtraData);n.open_media(c.url,c.cc);if(typeof e.thumbnailRootUrl!="undefined"){n.setThumbnailRootUrl(e.thumbnailRootUrl)}}}}f=true}function D(){var K=l(e.controllerContainer).style.width;K=K!=""?K:"100%";var J=l(e.controllerContainer).style.height;J=J!=""?J:"100%";l(e.controllerContainer).innerHTML="<object style='position:absolute;left:-9999999px;' id='"+g+"' classid='CLSID:7A63FEE6-E174-4FBC-A064-875DB95594A6' width='"+K+"' height='"+J+"' codebase='"+STARPLAYER_URL+"#version="+STARPLAYER_VERSION+"' ></object>";var I=l(g);I.onreadystatechange=function(){if(this.object){I.style.position="relative";I.style.left="0px";u()}else{F()}};if(I.object){I.onreadystatechange()}else{if(isAtLeastIE11){I.addEventListener("readystatechange",I.onreadystatechange,false)}}}function t(){if(l(e.controllerContainer)){D()}else{G(0)}}function u(){var I=l(g);if(I.HWND){G(I.HWND)}else{var J=setInterval(function(){if(I.HWND){clearInterval(J);G(I.HWND)}},1)}}this.toggleFullscreen=function(){if(n.getFullscreen()){n.setFullscreen(false)}else{n.setFullscreen(true)}};function r(){var I="<video style='visibility:hidden' class='video' id='"+b+"' width='100%' height='100%' preload ondblclick='toggleFullscreen()'></video>";I+="<div id='watermark'></div><div id='subtitle'></div><img id='logo'/>";l(e.videoContainer).innerHTML=I}function x(){var J=false;var K=ws_protocol+"://"+ws_host+":"+ws_port+"/"+ws_separator;var I=new WebSocket(K);I.onopen=function(M){J=true;var N=unescape(encodeURIComponent(encodeURIComponent(e.userId)));var L=unescape(encodeURIComponent(encodeURIComponent(c.logExtraData)));var O='{"url" : "'+c.url+'","intro" : "'+c.intro+'","intro2" : "'+c.intro2+'","outro" : "'+c.outro+'","config" : "'+STARPLAYER_CONFIG_URL+'","user_id" : "'+N+'","spk_id" : "'+e.spkId+'","referer" : "'+window.parent.location.href+'","cpcode" : "'+e.cpcode+'","enable_block_messenger" : '+e.blockMessenger+',"enable_block_virtual_machine" : '+e.blockVirtualMachine+',"enable_dual_monitor" : '+e.dualMonitor+',"custom_log_url" : "'+c.logUrl+'","custom_log_extra" : "'+L+'","hash" : '+JSON.stringify(e.hash)+"}";I.send(O)};I.onmessage=function(L){var M=JSON.parse(L.data);if(typeof M.version!=="undefined"){if(B(M.version,".")==-1){C()}else{if(!n){n=new StarPlayerHtml5(l(b),e,c);if(e.visible!=false){n.setVisible(true)}n.player_id=M.player_id;n.mac_address=M.mac_address;n.websocket=I;if(typeof M.keepalive_interval!=="undefined"){n.keepalive_interval=M.keepalive_interval;if(n.keepalive_interval<60){n.keepalive_interval=60}}j();setTimeout(E,10)}}}if(typeof M.method!=="undefined"){if(M.method=="keepalive"){if(n._keepalive_callback){n._keepalive_callback(M.status)}}else{if(M.method=="connection"){if(n._connect_callback){n._connect_callback(M.status,decodeURIComponent(M.msg),M.session_id)}}else{if(M.method=="opened"){if(n._opened_callback){n._opened_callback(M.status)}}else{if(M.method=="ssn"){if(n._ssn_callback){n._ssn_callback(M.value)}}else{if(M.method=="signal"){if(typeof n.custom_log_url!="undefined"){if(M.status=="stop"&&M.value==n.custom_log_url){n.close();n.displayError(StarPlayerString.MEDIA_ERR_ABORTED)}}if(M.status=="stop"&&M.value=="DetectHardware"){n.close();n.displayError(StarPlayerString.MSG_DETECT_HARDWARE)}else{if(M.status=="stop"&&M.value=="CanNotTerminated"){n.close();n.displayError(StarPlayerString.MSG_DETECT_PROCESS_HIDDER)}}}else{if(M.method=="chrome_extension"){if(n._chrome_extension_callback){n._chrome_extension_callback(M.id,M.installed)}}}}}}}}};I.onclose=function(L){if(J==false){C()}};I.onerror=function(L){}}if(isIE()){l(e.videoContainer)?t():v()}else{if(!("WebSocket" in window)){}else{r();x()}}}if(h){if(l(b)&&l(g)){return}}p();this.bindEvent=function(r,t){var u="_on_"+r;if(!q[u]){q[u]=[]}q[u].push(t)};this.open_state_change=function(t){if(n.setOpenState){n.setOpenState(t)}switch(t){case OpenState.CLOSING:break;case OpenState.CLOSED:break;case OpenState.OPENING:if(q.isIntroMovie()||q.isIntro2Movie()||q.isOutroMovie()){n.setLogUrl("");n.setLogExtraData("")}else{if(n.url()==c.url){if(typeof c.logUrl!="undefined"){if(n.setLogUrl){n.setLogUrl(c.logUrl)}if(n.setLogExtraData){n.setLogExtraData(c.logExtraData)}}}}break;case OpenState.OPENED:if(n.url()==c.url&&c.startTime>0){n.setCurrentPosition(c.startTime)}if(c.autoPlay){n.play()}break}if(q.onOpenStateChange){q.onOpenStateChange(t)}if(q._on_open_state_change){for(var r in q._on_open_state_change){q._on_open_state_change[r](t)}}};this.play_state_change=function(t){if(!n){return}if(t!=PlayState.COMPLETE){if(n.setPlayState){n.setPlayState(t)}}switch(t){case PlayState.STOPPED:break;case PlayState.PLAYING:if(q.completeOutro){q.completeOutro=false;if(c.intro){window.setTimeout(function(){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.intro,null)},10);return}else{if(c.intro2){window.setTimeout(function(){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.intro2,null)},10);return}else{if(c.url){window.setTimeout(function(){n.setLogUrl(c.logUrl);n.setLogExtraData(c.logExtraData);n.open_media(c.url,c.cc)},10);return}}}}break;case PlayState.PAUSED:break;case PlayState.BUFFERING_STARTED:break;case PlayState.BUFFERING_STOPPED:break;case PlayState.COMPLETE:if(n.getRepeat()){break}if(q.isIntroMovie()){if(c.intro2){window.setTimeout(function(){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.intro2,null)},10);return}else{if(c.url){window.setTimeout(function(){n.setLogUrl(c.logUrl);n.setLogExtraData(c.logExtraData);n.open_media(c.url,c.cc)},10);return}}}else{if(q.isIntro2Movie()){if(c.url){window.setTimeout(function(){n.setLogUrl(c.logUrl);n.setLogExtraData(c.logExtraData);n.open_media(c.url,c.cc)},10);return}}else{if(q.isOutroMovie()){q.completeOutro=true}else{if(c.outro){window.setTimeout(function(){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.outro,null)},10);return}else{}}}}break}if(q.onPlayStateChange){q.onPlayStateChange(t)}if(q._on_play_state_change){for(var r in q._on_play_state_change){q._on_play_state_change[r](t)}}};this.position_change=function(t){if(q.onPositionChange){q.onPositionChange(t)}if(q._on_position_change){for(var r in q._on_position_change){q._on_position_change[r](t)}}};this.position_change2=function(r,u){if(q.onPositionChange2){q.onPositionChange2(r,u)}if(q._on_position_change2){for(var t in q._on_position_change2){q._on_position_change2[t](r,u)}}};this.volume_change=function(u,t){if(q.onVolumeChange){q.onVolumeChange(u,t)}if(q._on_volume_change){for(var r in q._on_volume_change){q._on_volume_change[r](u,t)}}};this.rate_change=function(t){if(q.onRateChange){q.onRateChange(t)}if(q._on_rate_change){for(var r in q._on_rate_change){q._on_rate_change[r](t)}}};this.repeat_change=function(t){if(q.onRepeatChange){q.onRepeatChange(t)}if(q._on_repeat_change){for(var r in q._on_repeat_change){q._on_repeat_change[r](t)}}};this.repeat_range_change=function(u,r){if(q.onRepeatRangeChange){q.onRepeatRangeChange(u,r)}if(q._on_repeat_range_change){for(var t in q._on_repeat_range_change){q._on_repeat_range_change[t](u,r)}}};this.update_time=function(t){if(q._on_update_time){for(var r in q._on_update_time){q._on_update_time[r](t)}}};this.key_down=function(r){if(q.onKeyDown&&(!isIE()||q.getFullscreen())){q.onKeyDown(r)}};this.key_up=function(r){if(q.onKeyUp){q.onKeyUp(r)}};this.mouse_down=function(r,t){if(q.onMouseDown){q.onMouseDown(r,t)}};this.mouse_up=function(r,t){if(q.onMouseUp){q.onMouseUp(r,t)}if(q.onClick){q.onClick(r,t)}};this.mouse_dbclick=function(r,t){if(q.onMouseDbclick){q.onMouseDbclick(r,t)}};this.mouse_wheel=function(r,u,t){if(q.mouseWheelHandler){q.mouseWheelHandler(r,u,t)}};this.error=function(r){if(isNaN(r)){n=null;k(r)}if(r>=1000){if(q.isIntroMovie()){if(c.intro2){n.open_media(c.intro2,null)}else{if(c.url){n.open_media(c.url,c.cc)}}return true}else{if(q.isIntro2Movie()){n.open_media(c.url,c.cc);return true}}q.setVisible(true)}if(q.onError){q.onError(r)}if(q._on_error){for(var t in q._on_error){q._on_error[t](r)}}};this.close=function(){if(q.onClose){if(!q.onClose()){n.closeBrowser()}}else{n.closeBrowser()}};this.destroy=function(){if(q.onDestroy){q.onDestroy()}if(q._on_destroy){for(var r in q._on_destroy){q._on_destroy[r]()}}};this.marker=function(z,y,t,A,v,w,u,r){if(q.onMarker){q.onMarker(z,y,t,A,v,w,u,r)}if(q._on_marker){for(var x in q._on_marker){q._on_marker[x](z,y,t,A,v,w,u,r)}}};this.custom=function(t,u){if(q.onCustom){q.onCustom(t,u)}if(q._on_custom){for(var r in q._on_custom){q._on_custom[r](t,u)}}};this.subtitle=function(u,t){if(q.onSubtitle){q.onSubtitle(u,t)}if(q._on_subtitle){for(var r in q._on_subtitle){q._on_subtitle[r](u,t)}}};this.fullscreen_change=function(t){if(q.onFullscreen){q.onFullscreen(t)}if(q._on_fullscreen_change){for(var r in q._on_fullscreen_change){q._on_fullscreen_change[r](t)}}};function j(){n.addEvent("open_state_change",function(r){q.open_state_change(r)});n.addEvent("play_state_change",function(r){q.play_state_change(r)});n.addEvent("position_change",function(r){q.position_change(r)});n.addEvent("position_change2",function(r,t){q.position_change2(r,t)});n.addEvent("volume_change",function(t,r){q.volume_change(t,r)});n.addEvent("rate_change",function(r){q.rate_change(r)});n.addEvent("repeat_change",function(r){q.repeat_change(r)});n.addEvent("repeat_range_change",function(t,r){q.repeat_range_change(t,r)});n.addEvent("update_time",function(r){q.update_time(r)});n.addEvent("key_down",function(r){q.key_down(r)});n.addEvent("key_up",function(r){q.key_up(r)});n.addEvent("mouse_down",function(r,t){q.mouse_down(r,t)});n.addEvent("mouse_up",function(r,t){q.mouse_up(r,t)});n.addEvent("mouse_dbclick",function(r,t){q.mouse_dbclick(r,t)});n.addEvent("mouse_wheel",function(r,u,t){q.mouse_wheel(r,u,t)});n.addEvent("error",function(r){q.error(r)});n.addEvent("close",function(){q.close()});n.addEvent("destroy",function(){q.destroy()});n.addEvent("marker",function(z,u,y,t,r,x,w,v){q.marker(z,u,y,t,r,x,w,v)});n.addEvent("custom",function(r,t){q.custom(r,t)});n.addEvent("subtitle",function(t,r){q.subtitle(t,r)});n.addEvent("fullscreen_change",function(r){q.fullscreen_change(r)})}this.closeBrowser=function(){n.closeBrowser()};this.open_media=function(r){if(c.url===r.url){return}c=r;if(typeof c.previewTime!="undefined"){n.setTimelimit(c.previewTime)}if(typeof c.autoPlay=="undefined"){c.autoPlay=true}if(f){if(c.intro){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.intro)}else{if(c.intro2){n.setLogUrl("");n.setLogExtraData("");n.open_media(c.intro2)}else{n.setLogUrl(c.logUrl);n.setLogExtraData(c.logExtraData);n.open_media(c.url,c.cc)}}}};this.close_media=function(){if(n.close_media){n.close_media()}};this.getDuration=function(){if(n){return n.getDuration()}return 0};this.getCurrentPosition=function(){if(n){return n.getCurrentPosition()}return 0};this.setCurrentPosition=function(r){if(n){if(r>n.getDuration()){r=0}n.setCurrentPosition(r)}};this.getVolume=function(){if(n){return n.getVolume()}return 1};this.setVolume=function(r){if(n){if(r>1){r=1}else{if(r<0){r=0}}n.setVolume(r)}};this.getMute=function(){if(n){return n.getMute()}return false};this.setMute=function(r){if(n){n.setMute(r)}};this.getFullscreen=function(){return n.getFullscreen()};this.setFullscreen=function(t){if(q._on_fullscreen_change){for(var r in q._on_fullscreen_change){q._on_fullscreen_change[r](t)}}if(q.onFullscreen){if(q.onFullscreen(t)){n.setFullscreen(t)}}else{n.setFullscreen(t)}};this.getRate=function(){if(n){return n.getRate()}else{return 1}};this.getShowRate=function(){return n.getShowRate()};this.getLimitRange=function(){return n.getLimitRange()};this.getEnableControl=function(){return n.getEnableControl()};this.setRate=function(r){if(n){if(r>2){r=2}if(r<0.5){r=0.5}n.setRate(r)}};this.getRepeat=function(){if(n){return n.getRepeat()}return false};this.setRepeat=function(r){if(n){n.setRepeat(r)}};this.getRepeatStartTime=function(){return n.getRepeatStartTime()};this.setRepeatStartTime=function(r){n.setRepeatStartTime(r)};this.getRepeatEndTime=function(){return n.getRepeatEndTime()};this.setRepeatEndTime=function(r){n.setRepeatEndTime(r)};this.getPlayTime=function(){return n.getPlayTime()};this.initPlayTime=function(){return n.initPlayTime()};this.play=function(){if(n){n.play()}};this.pause=function(){if(n){n.pause()}};this.stop=function(){if(n){n.stop()}};this.addEventListener2=function(t,r){if(t==StarPlayer.OpenStateChangeEvent){n.onOpenStateChange=r}else{if(t==StarPlayer.PlayStateChangeEvent){n.onPlayStateChange=r}else{if(t==StarPlayer.KeyDownEvent){n.onKeyDown=r}else{if(t==StarPlayer.KeyUpEvent){n.onKeyUp=r}else{if(t==StarPlayer.MouseDownEvent){n.onMouseDown=r}else{if(t==StarPlayer.MouseUpEvent){n.onMouseUp=r}else{if(t==StarPlayer.MouseDbclickEvent){n.onMouseDbclick=r}else{if(t==StarPlayer.MouseWheelEvent){n.mouseWheelHandler=r}else{if(t==StarPlayer.ClickEvent){n.onClick=r}else{if(t==StarPlayer.FullscreenEvent){n.onFullscreen=r}else{if(t==StarPlayer.RateChangeEvent){n.onRateChange=r}else{if(t==StarPlayer.DestroyEvent){n.onDestroy=r}else{if(t==StarPlayer.MarkerEvent){n.onMarker=r}else{if(t==StarPlayer.PositionChange){n.onPositionChange=r}else{if(t==StarPlayer.PositionChange2){n.onPositionChange2=r}else{if(t==StarPlayer.CustomEvent){n.onCustom=r}else{if(t==StarPlayer.Subtitle){n.onSubtitle=r}}}}}}}}}}}}}}}}}};this.getOpenState=function(){return n.getOpenState()};this.getPlayState=function(){if(n){return n.getPlayState()}else{return PlayState.STOPPED}};this.backward=function(r){if(n){var t=n.getCurrentPosition()-(r?r:d);if(t<0){t=0}n.setCurrentPosition(t)}};this.forward=function(r){if(n){var t=n.getCurrentPosition()+(r?r:d);if(t>n.getDuration()){t=n.getDuration()}n.setCurrentPosition(t)}};this.getStep=function(){return d};this.setStep=function(r){d=r};this.isIntroMovie=function(){return c.url!=c.intro&&c.url!=c.intro2&&n.url()==c.intro};this.isIntro2Movie=function(){return c.url!=c.intro&&c.url!=c.intro2&&n.url()==c.intro2};this.isOutroMovie=function(){return c.url!=c.outro&&n.url()==c.outro};this.getTopmost=function(){return n.getTopmost()};this.setTopmost=function(r){n.setTopmost(r)};this.getXHR=function(){return n.getXHR()};this.setVisible=function(r){n.setVisible(r)};this.getVideoWidth=function(){if(n.getVideoWidth){return n.getVideoWidth()}return 0};this.getVideoHeight=function(){if(n.getVideoHeight){return n.getVideoHeight()}return 0};this.getBrightness=function(){if(n.getBrightness){return n.getBrightness()}return 0};this.setBrightness=function(r){if(n.setBrightness){n.setBrightness(r)}};this.getContrast=function(){if(n.getContrast){return n.getContrast()}return 0};this.setContrast=function(r){if(n.setContrast){n.setContrast(r)}};this.getSaturation=function(){if(typeof n.saturation!=="undefined"){return n.saturation}return 0};this.setSaturation=function(r){if(n.setSaturation){n.setSaturation(r)}};this.getHue=function(){if(n.getHue){return n.getHue()}return 0};this.setHue=function(r){if(n.setHue){n.setHue(r)}};this.getBlockMessenger=function(){return c.blockMessenger};this.setCaption=function(r){if(n.setCaption){n.setCaption(r)}};this.clearCaption=function(){if(n.clearCaption){n.clearCaption()}};this.callFunction=function(r){if(n.callFunction){return n.callFunction(r)}};this.captureFrame=function(r){if(n.captureFrame){return n.captureFrame(r)}};this.getAlphaBrain=function(){function r(){var u=1;var t=4;var v=40;this.initialize=function(){u=1;t=4;v=40};this.start=function(w){n.control_alpha_brain("AB_Start",w?w:[u,t,v].join("/"))};this.stop=function(){n.control_alpha_brain("AB_Stop","")};this.func=function(w){u=w;n.control_alpha_brain("AB_Function",w.toString())};this.soundUp=function(w){if(t+w>20){return}t+=w;n.control_alpha_brain("AB_Sound_up",w.toString())};this.soundDown=function(w){if(t-w<0){return}t-=w;n.control_alpha_brain("AB_Sound_down",w.toString())};this.volumeUp=function(w){if(v+w>100){return}v+=w;n.control_alpha_brain("AB_Volume_up",w.toString())};this.volumeDown=function(w){if(v-w<0){return}v-=w;n.control_alpha_brain("AB_Volume_down",w.toString())};this.volumeMute=function(){n.control_alpha_brain("AB_Volume_Mute","")}}if(!a){a=new r()}return a};this.getPID=function(){return n.getPID()};this.getSessionId=function(){if(n.sessionid){return n.sessionid()}else{return""}};this.internetCheckConnection=function(r){if(n.internetCheckConnection){return n.internetCheckConnection(r)}return true};this.getSSN=function(){if(n.getSSN){return n.getSSN()}return""};this.getMAC=function(){return n.getMAC()};this.getTrack=function(){return n.getTrack()};this.setTrack=function(r){n.setTrack(r)};this.getProgressRate=function(){return n.getProgressRate()};this.getStopPosition=function(){return n.getStopPosition()};this.getSubtitleUrl=function(){return c.cc};this.getSubtitle=function(){if(n.getSubtitle){return n.getSubtitle()}return 0};this.setSubtitle=function(r){if(n.setSubtitle){n.setSubtitle(r)}};this.getMaxBandwidth=function(){if(n.getMaxBandwidth){return n.getMaxBandwidth()}return 0};this.getBandwidth=function(){if(n.getBandwidth){return n.getBandwidth()}return 0};this.getBitrate=function(){if(n.getBitrate){return n.getBitrate()}return 0};this.getAvgFrameRate=function(){if(n.getAvgFrameRate){return n.getAvgFrameRate()}return 0};this.getTotalBytes=function(){if(n.getTotalBytes){return n.getTotalBytes()}return 0};this.getReceivedBytes=function(){if(n.getReceivedBytes){return n.getReceivedBytes()}return 0};this.sendLog=function(r,t){if(n.send_log){n.send_log(r,t)}}}StarPlayer.OpenStateChangeEvent="Event.OpenStateChange";StarPlayer.PlayStateChangeEvent="Event.PlayStateChange";StarPlayer.ClickEvent="Event.Click";StarPlayer.KeyDownEvent="Event.KeyDown";StarPlayer.KeyUpEvent="Event.KeyUp";StarPlayer.MouseDownEvent="Event.MouseDown";StarPlayer.MouseUpEvent="Event.MouseDown";StarPlayer.MouseDbclickEvent="Event.MouseDbclick";StarPlayer.MouseWheelEvent="Event.MouseWheel";StarPlayer.FullscreenEvent="Event.Fullscreen";StarPlayer.RateChangeEvent="Event.RateChage";StarPlayer.DestroyEvent="Event.Destroy";StarPlayer.MarkerEvent="Event.Marker";StarPlayer.PositionChange="Event.PositionChange";StarPlayer.PositionChange2="Event.PositionChange2";StarPlayer.CustomEvent="Event.Custom";StarPlayer.Subtitle="Event.Subtitle";function StarPlayerTracker(o){var e=this;var j=0;var d=0;var a;var f=null;var p=0;var g=0;var k=0;var t=[];var h=false;o.addEvent("open_state_change",n);o.addEvent("play_state_change",r);o.addEvent("position_change2",c);n(o.getOpenState());m();function n(u){if(u==OpenState.OPENED){k=parseInt(o.getCurrentPosition(),10);g=parseInt(o.getDuration(),10)}else{if(u==OpenState.CLOSED){t=[]}}}function r(u){switch(u){case PlayState.PLAYING:m();break;case PlayState.PAUSED:l();break;case PlayState.STOPPED:if(!h){c(k,p);k=0}h=false;l();break;case PlayState.BUFFERING_STARTED:l();break;case PlayState.COMPLETE:c(k,g);h=true;setTimeout(function(){b(new Date().getTime(),g)},100);break}}function c(u,v){if(parseInt(v,10)>parseInt(k,10)){t.push([k,parseInt(v,10)])}k=parseInt(u)}function q(v,w){var u;w=w||[];for(u in v){if(v.hasOwnProperty(u)){w[u]=v[u]}}return w}this.getHistory=function(){var z=q(t);var y=o.getPlayState();if(y!=PlayState.STOPPED&&y!=PlayState.COMPLETE){var v=parseInt(o.getCurrentPosition(),10);if(v<k){v=k}z.push([k,v])}var u=[];var x=z.length;for(var w=0;w<x;w+=1){u.push([z[w][0],z[w][1]].join(":"))}return u.join(",")};this.setHistory=function(x){var u=x.replace(/:/g,",").split(",");var w=u.length;for(var v=0;v<w;v+=2){t.push([u[v],u[v+1]])}};this.getTrackerTime=function(){var B=q(t);var v=o.getPlayState();if(v!=PlayState.STOPPED&&v!=PlayState.COMPLETE){var z=parseInt(o.getCurrentPosition(),10);if(z<k){z=k}B.push([k,z])}B.sort(function(G,F){return G[0]-F[0]});var D,E,w,y,u;D=0,E=0,w=0,y=0,u=0;var x=B.length;if(x>0){E=Number(B[0][0],10);w=Number(B[0][1],10);for(var A=1;A<x;A+=1){y=Number(B[A][0],10);u=Number(B[A][1],10);if(u!=y){var C=w;if(C>y){w=y}if(C>u){u=C}if(w-E>0){D+=(w-E)}E=y;w=u}}}if(w-E>0){D+=(w-E)}return D};this.getPercent=function(){var u=e.getTrackerTime();return parseInt(u/g*100,10)};this.getTracker=function(){var F=[];var A=q(t);var u=o.getPlayState();if(u!=PlayState.STOPPED&&u!=PlayState.COMPLETE){var y=parseInt(o.getCurrentPosition(),10);if(y<k){y=k}A.push([k,y])}A.sort(function(H,G){return H[0]-G[0]});var D,w,E,v,C;D=0,w=0,E=0,v=0,C=0;var x=A.length;if(x>0){w=Number(A[0][0],10);E=Number(A[0][1],10);for(var z=1;z<x;z+=1){v=Number(A[z][0],10);C=Number(A[z][1],10);if(v!=C){var B=E;if(B>v&&B<C){E=C}if(B<v){F.push([w,E].join(":"));w=v;E=C}}}F.push([w,E].join(":"))}return F.join(",")};this.getStrongPlayedTime=function(){return parseInt(j,10)};this.getPlayedTime=function(){return parseInt(d,10)};function m(){a=new Date().getTime();if(f==null){f=setInterval(function(){b(new Date().getTime(),parseInt(o.getCurrentPosition(),10))},1000)}}function l(){clearInterval(f);f=null;current=parseInt(o.getCurrentPosition(),10);c(k,current)}function b(w,x){if(x>0){p=parseInt(x,10)}var v=new Number(o.getRate());var u=w-a;if(u<2000){j+=u*v.toFixed(1)/1000;d+=u/1000}a=w;$("#debug1").text("Progress : "+e.getPercent()+"%");$("#debug2").text("History : "+e.getHistory());$("#debug3").text("Tracker : "+e.getTracker())}}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=Base64._utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};var hls;var debug;function playM3u8(a){var b=document.getElementsByClassName("video")[0];if(hls){hls.destroy()}hls=new Hls();var c=decodeURIComponent(a);hls.loadSource(c);hls.attachMedia(b);hls.on(Hls.Events.MANIFEST_PARSED,function(){b.play()})}function StarPlayerChromeExtension(h){var f=this;var d=null;var e=[];var c=10000;function a(){var l=window.navigator.userAgent;var m=l.indexOf("Chrome")!=-1;var k=l.indexOf("Edg")!=-1;return m&&!k}function b(){var l;if(typeof(STARPLAYER_CHROME_URL)=="undefined"){var k=STARPLAYER_URL.split("/");k.pop();k.push("chrome.txt");l=k.join("/")}else{l=STARPLAYER_CHROME_URL}return l}function g(){for(i=0;i<e.length;i++){if(e[i].selector){var k=$(e[i].selector);k.each(function(){h.send_log(e[i].module,"chrome_extension");h.displayError(StarPlayerString.MSG_DETECT_CHROME_EXTENSION+"<br /> ( <a href="+e[i].link+' target="_blank">'+e[i].module+"</a> )");return 1})}}return 0}function j(l){f.callback_chrome_extension=l;var k=[];for(i=0;i<e.length;i++){if(e[i].id){(function(m){k[e[m].id]=m;h.installed_chrome_extension(e[m].id,function(p,o){if(o){var n=k[p];h.send_log(e[n].module,"chrome_extension");h.displayError(StarPlayerString.MSG_DETECT_CHROME_EXTENSION+"<br /> ( <a href="+e[n].link+' target="_blank">'+e[n].module+"</a> )");f.callback_chrome_extension(1)}})})(i)}}}this.run=function(){if(a()){this.release();$.ajax({url:b(),dataType:"jsonp",contentType:"application/jsonp",dataType:"jsonp",jsonpCallback:"Callback",jsonp:"callback"}).done(function(k){e=k;d=setInterval(function(){if(g()==1){clearInterval(d)}j(function(l){if(l==1){clearInterval(d)}})},c)}).fail(function(){})}};this.release=function(){clearInterval(d)}};